(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{666:function(e,t,r){"use strict";r.r(t);r(21),r(13),r(10),r(16),r(24),r(25),r(7);var n=r(91),o=(r(20),r(1)),c=(r(607),r(45),r(99),r(3)),l=r(667),d=r(30),h=r(564),w=r(12),f=r.n(w),m=r(554),y=r.n(m),v=r(413),x=r(138),A=r(141),k=r(556),F=r(616),S=r(550),O=r(561);r(549);function R(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function W(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?R(Object(source),!0).forEach((function(t){Object(c.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):R(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}t.default={mixins:[A.a,k.a],layout:"app",middleware:"auth",components:{BTable:l.a,Modal:x.a,Qrcode:h.a,vuescroll:y.a,StakingComponent:F.a,Pagination:S.a,TwoFAModal:O.a},data:function(){return{isShowSendModal:!0,scrollOptions:{vuescroll:{mode:"slide",zooming:!1,scroller:{bouncing:!1}},scrollPanel:{scrollingY:!1},rail:{},bar:{background:"#2dccd3"}},promoWallet:[{icon:"usd",ticker:"USD"},{icon:"eur",ticker:"EUR"},{icon:"gbp",ticker:"GBP"},{icon:"aed",ticker:"AED"},{icon:"cad",ticker:"CAD"}],walletsField:[{key:"icon",label:this.$t("wallets.exchange.icon"),sortable:!1},{key:"coin",label:this.$t("wallets.exchange.token"),sortable:!1},{key:"ticker",label:this.$t("wallets.exchange.ticker"),sortable:!1},{key:"balanceCrypto",label:this.$t("wallets.exchange.balance"),sortable:!1},{key:"balanceToUsd",label:this.$t("wallets.exchange.usd_value"),sortable:!1},{key:"buttons",label:"",sortable:!1}],history:{},historyFields:[{key:"updatedAt",label:this.$t("wallets.history.date"),sortable:!1},{key:"deposit",label:this.$t("wallets.history.deposit"),sortable:!1},{key:"withdrawal",label:this.$t("wallets.history.withdrawal"),sortable:!1},{key:"currencyId",label:this.$t("wallets.history.token"),sortable:!1},{key:"id",label:this.$t("wallets.history.id"),sortable:!1},{key:"from",label:"From",sortable:!1},{key:"to",label:"To",sortable:!1},{key:"description",label:"Details",sortable:!1},{key:"status",label:"Status",sortable:!1},{key:"star",label:"",sortable:!1}],showEnable2FAModal:!1,depositQRSize:255,currentDeposit:null,currentWithdraw:null,currentSend:null,withdrawAmount:0,withdrawRecipient:"",withdraw2FA:""}},computed:W(W({},Object(d.b)({wallets:"user/getWallets",decimals:"user/getDecimals",is2FA:"user/is2FA"})),{},{historyCountOfPage:function(){return Math.ceil(this.history.count/this.historyCountPerPage)},currencyOptionsSend:function(){return{currency:null,allowNegative:!1,precision:{min:2,max:this.currentSend.decimals},valueRange:{min:this.currentSend.valueMin||0,max:this.calculateMaxAmount(this.currentSend.balanceCrypto,this.currentSend.feeRelative,this.currentSend.feeFixed,this.currentSend.decimals)||0}}},currencyOptionsWith:function(){return{currency:null,allowNegative:!1,precision:{min:2,max:this.currentWithdraw.decimals},valueRange:{min:this.currentWithdraw.valueMin||0,max:this.calculateMaxAmount(this.currentWithdraw.balanceCrypto,this.currentWithdraw.feeRelative,this.currentWithdraw.feeFixed,this.currentWithdraw.decimals)||0}}},totalSend:function(){var e=this.withdrawAmount;return"string"==typeof e&&(e=Number(e.replace(",","."))),e}}),mounted:function(){window.addEventListener("resize",this.adaptiveQR),this.adaptiveQR();try{this.getHistory()}catch(e){console.log(e)}},beforeDestroy:function(){window.removeEventListener("resize",this.adaptiveQR)},methods:{calculateTotal:function(e,t,r){var n=e||0;if(Number.isNaN(+n)&&(n=n.replace(",",".")),t){var o=new f.a(t).dividedBy(100).plus(1);n=new f.a(n).multipliedBy(o).toFixed(6)}return r&&(n=new f.a(n).plus(r).toFixed(6)),Number(n)},adaptiveQR:function(){window.innerWidth>768&&160===this.depositQRSize?this.depositQRSize=255:window.innerWidth<=768&&255===this.depositQRSize&&(this.depositQRSize=160)},toggleSendModal:function(e){this.is2FA?e?this.currentSend=e:(this.currentSend=null,this.withdrawAmount=0,this.withdrawRecipient="",this.withdraw2FA=""):this.openEnable2FAModal()},toggleDepositModal:function(e){this.currentDeposit=e||null},openEnable2FAModal:function(){this.showEnable2FAModal=!0},closeEnable2FAModal:function(){this.showEnable2FAModal=!1},copyAddress:function(){var e=this;window.isSecureContext&&navigator.clipboard.writeText(this.currentDeposit.address).then((function(){e.$notify({type:"success",text:"Successfully copied",closeOnClick:!0})})).catch((function(){console.log("copy failed")}))},getHistory:function(e){var t=this;return Object(o.a)(regeneratorRuntime.mark((function r(){var o,c,l,d;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.$axios.$get("/profile/me/txs",{params:{limit:e?e.limit:5,offset:e?e.offset:0}});case 2:return o=r.sent,r.next=5,t.GetFavorites();case 5:c=t.$store.getters["favorites/getFavorites"],l=o.result.txs,d=t.addIsFavoriteContactInfo(l,c),o.result.txs=Object(n.a)(d),t.history=o.result;case 10:case"end":return r.stop()}}),r)})))()},addIsFavoriteContactInfo:function(e,t){return e.map((function(e){var r=e.contact,n=!(!r||!r.id)&&t.some((function(e){return e.id===r.id}));return e.isFavorite=n,e}))},toggleWithdrawModal:function(e){var t=this;return Object(o.a)(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return console.log(e),r.next=3,t.$store.dispatch("user/GET_2FA_STATUS");case 3:t.is2FA?e?t.currentWithdraw=e:(t.currentWithdraw=null,t.withdrawAmount=0,t.withdrawRecipient="",t.withdraw2FA=""):t.openEnable2FAModal();case 4:case"end":return r.stop()}}),r)})))()},vWithdrawSend:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){var r,data;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r=Object(v.b)(e.withdrawAmount,e.currencyOptionsSend),r=new f.a(r).shiftedBy(e.currentSend.decimals).toFixed(0,1),data={amount:r,totp:e.withdraw2FA},e.withdrawRecipient.length<=15?data.username=e.withdrawRecipient:data.address=e.withdrawRecipient,t.next=7,e.$axios.post("/profile/me/wallet/".concat(e.currentSend.id,"/send"),data);case 7:e.currentWithdraw=null,e.$notify({type:"success",text:"Your request is accepted. After receiving the necessary number of confirmations from the network, the funds will be credited to your wallet"}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),console.log(t.t0);case 14:case"end":return t.stop()}}),t,null,[[0,11]])})))()},withdrawSend:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r=Object(v.b)(e.withdrawAmount,e.currencyOptionsWith),r=new f.a(r).shiftedBy(e.currentWithdraw.decimals).toFixed(0,1),t.next=5,e.$axios.post("/profile/me/wallet/".concat(e.currentWithdraw.id,"/withdraw"),{address:e.withdrawRecipient,amount:r,totp:e.withdraw2FA});case 5:e.currentWithdraw=null,e.$notify({type:"success",text:"Your request is accepted. After receiving the necessary number of confirmations from the network, the funds will be credited to your wallet"}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))()},calculateMaxAmount:function(e,t,r,n){var o=new f.a(e);if(r&&(o=o.minus(r)),t){var c=new f.a(t).dividedBy(100).plus(1);o=o.dividedBy(c)}return o=Number(o.toFixed(n,1)),isNaN(o)?0:o>0?o:0},setMaxAmount:function(){this.withdrawAmount=this.calculateMaxAmount(this.currentWithdraw.balanceCrypto,this.currentWithdraw.feeRelative,this.currentWithdraw.feeFixed,6),this.withdrawAmount=this.withdrawAmount.toString().replace(".",",")},setMaxAmountSend:function(){this.withdrawAmount=this.currentSend.balanceCrypto,this.withdrawAmount=this.withdrawAmount.toString().replace(".",",")},beautifyAmount:function(e){var t=e;return"string"==typeof e&&(t=Number(e.replace(",","."))),Number(t.toFixed(6,0))},onFavoriteClick:function(e){var t=this;return Object(o.a)(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!e.contact||e.isFavorite){r.next=5;break}return r.next=3,t.ToFavorite(e.contact.id);case 3:r.next=7;break;case 5:return r.next=7,t.DeleteFavorite(e.contact.id);case 7:return r.next=9,t.getHistory();case 9:case"end":return r.stop()}}),r)})))()}},directives:{currency:v.a}}}}]);