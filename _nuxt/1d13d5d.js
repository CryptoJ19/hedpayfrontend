(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{603:function(t,e,n){var content=n(645);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(15).default)("aba36c72",content,!0,{sourceMap:!1})},644:function(t,e,n){"use strict";n(603)},645:function(t,e,n){(e=n(14)(!1)).push([t.i,".packages__buy{margin-top:35px}.packages .cards-wrap{display:flex;flex-wrap:wrap;justify-content:space-evenly}.numeric-input_cs{max-width:unset!important}.numeric-input_cs button{width:50px!important}.numeric-input_cs .ni-display{width:80%!important}.tokens-buy,.tokens-confirm,.tokens-finish{justify-content:center;min-height:285px}.tokens-buy{display:flex;flex-direction:column;align-items:flex-end}@media (max-width:768px){.tokens-buy{align-items:center}}.tokens-buy .modal-heading{align-self:center}.tokens-buy .limit-notification{align-self:flex-start;color:#2dccd3;margin-left:16px}@media (max-width:550px){.tokens-buy .limit-notification{align-self:center;margin-left:0}}.tokens-buy .limit-notification .limit-value{font-weight:900}.tokens-buy .validation-message{display:block;color:#eb5757;margin-bottom:36px;min-height:20px}.confirm-title,.modal-heading{font-size:18px;font-weight:400;line-height:21px;letter-spacing:.06em;opacity:.5;margin-bottom:15px}.tokens-confirm,.tokens-finish{display:flex;flex-direction:column;align-content:center}.tokens-finish .finish-message{font-size:18px;line-height:35px;letter-spacing:.06em}.tokens-finish .tokens-modal-btn{width:50%}.confirm-row{display:flex;flex-direction:column;align-items:center}.confirm-row .confirm-value{font-size:30px;line-height:35px;letter-spacing:.06em;margin-bottom:12px}.buttons-row{margin-top:38px;display:flex}.tokens-modal-btn{background:#2dccd3;border-radius:8px;font-size:18px;line-height:1.16;letter-spacing:.06em;transition:all .3s;color:#fff;width:240px;height:56px}.tokens-modal-btn:hover{background:#27b4bd}.tokens-modal-btn[disabled]{background-color:#596372;cursor:unset}@media screen and (max-width:1440px){.tokens-modal-btn{font-size:16px}}@media (max-width:425px){.tokens-modal-btn{font-size:14px}}.btn-return{background:#fff;border:1px solid #e5e5e5;border-radius:8px;font-size:18px;line-height:1.16;letter-spacing:.06em;transition:all .3s;color:rgba(5,43,67,.5);width:98px;margin-right:22px}.btn-return:hover{color:#2dccd3;border-color:#2dccd3}@media screen and (max-width:1440px){.btn-return{font-size:16px}}@media (max-width:425px){.btn-return{font-size:14px}}.btn-return:hover{color:#fff}",""]),t.exports=e},674:function(t,e,n){"use strict";n.r(e);n(21),n(13),n(10),n(7),n(16),n(20);var o=n(1),r=(n(221),n(3)),c=n(30),l=n(12),d=n.n(l),m=n(615),f=n(138),k=n(566),h=n(73),y=n(5);function v(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}var x={layout:"app",middleware:"auth",components:{packageCard:m.a,Modal:f.a,NumericInput:k.a},data:function(){return{tokensToBuy:{},packagesObtained:[{amount:"10000 HDP",duration:"3 months",percentage:10,packagesQuantity:"25 packages",progressBar:90,isObtained:!0},{amount:"20000 HDP",duration:"6 months",percentage:10,packagesQuantity:"25 packages",progressBar:69,isObtained:!0},{amount:"30000 HDP",duration:"12 months",percentage:10,packagesQuantity:"25 packages",progressBar:69,isObtained:!0},{amount:"40000 HDP",duration:"18 months",percentage:10,packagesQuantity:"25 packages",progressBar:69,isObtained:!0}]}},computed:function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?v(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):v(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({},Object(c.b)({packagesAvailable:"packages/getPackages"})),mounted:function(){this.$store.dispatch("packages/".concat(h.GET_AVAILABLE_PACKAGES))},methods:{setStatus:function(t){this.tokensToBuy.status=t},buyConfirmation:function(){this.setStatus("confirm")},calcThePrice:function(t){return new d.a(t).multipliedBy(this.tokensToBuy.rate).toNumber()},buy:function(t){this.loadPackage(t)},loadPackage:function(t){this.tokensToBuy={id:t.id,amount:new d.a(t.amountLeft).shiftedBy(-4),min:new d.a(t.min).shiftedBy(-4),max:new d.a(t.max).shiftedBy(-4),amountLeft:new d.a(t.amountLeft).shiftedBy(-4),rate:t.price,showModal:!0,status:"new"}},updatePackageData:function(t){var e=this.packagesAvailable.findIndex((function(element){return element.id===t}));if(e>-1){var n=this.packagesAvailable[e];this.loadPackage(n)}},purchase:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={id:t.tokensToBuy.id,amount:t.tokensToBuy.amount},e.prev=1,e.next=4,t.$store.dispatch("packages/".concat(h.BUY_PACKAGE),n);case 4:return e.next=6,t.$store.dispatch("packages/".concat(h.GET_AVAILABLE_PACKAGES));case 6:t.setStatus("success"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),t.setStatus("error");case 12:return e.next=14,t.$store.dispatch("user/".concat(y.GET_WALLETS));case 14:case"end":return e.stop()}}),e,null,[[1,9]])})))()}}},_=(n(644),n(6)),component=Object(_.a)(x,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"packages"},[n("div",{staticClass:"packages__buy"},[n("page-component",{scopedSlots:t._u([{key:"head-left",fn:function(){return[t._v("\n        Buy\n      ")]},proxy:!0},{key:"default",fn:function(){return[n("div",{staticClass:"cards-wrap"},t._l(t.packagesAvailable,(function(e,o){return n("package-card",{key:o,attrs:{data:e},on:{"buy-package":t.buy}})})),1)]},proxy:!0}])})],1),t._v(" "),t.tokensToBuy.showModal?n("Modal",{attrs:{width:480},on:{close:function(e){t.tokensToBuy.showModal=!1}}},[n("ValidationObserver",{scopedSlots:t._u([{key:"default",fn:function(e){var o=e.handleSubmit;return["new"===t.tokensToBuy.status?n("div",{staticClass:"tokens-buy"},[n("h4",{staticClass:"modal-heading"},[t._v("Specify the amount of tokens to buy")]),t._v(" "),n("span",{staticClass:"limit-notification"},[t._v("Now you can buy up to "),n("span",{staticClass:"limit-value"},[t._v(" "+t._s(t.tokensToBuy.amountLeft)+" ")]),t._v("HDP")]),t._v(" "),n("ValidationProvider",{staticStyle:{width:"100%"},attrs:{name:"value",rules:"min_value:"+t.tokensToBuy.min+"|max_value:"+t.tokensToBuy.amountLeft,slim:""},scopedSlots:t._u([{key:"default",fn:function(e){var o=e.errors;return[n("numeric-input",{staticClass:"numeric-input_cs",attrs:{name:"value",min:t.tokensToBuy.min,max:t.tokensToBuy.amountLeft,step:1},model:{value:t.tokensToBuy.amount,callback:function(e){t.$set(t.tokensToBuy,"amount",e)},expression:"tokensToBuy.amount"}}),t._v(" "),n("span",{staticClass:"validation-message"},[t._v(t._s(o[0]))])]}}],null,!0)}),t._v(" "),n("button",{staticClass:"btn tokens-modal-btn",on:{click:function(e){return o(t.buyConfirmation)}}},[t._v("Buy")])],1):t._e()]}}],null,!1,3187667165)}),t._v(" "),"confirm"===t.tokensToBuy.status?n("div",{staticClass:"tokens-confirm"},[n("div",{staticClass:"confirm-row"},[n("div",{staticClass:"confirm-title"},[t._v("HDP amount:")]),t._v(" "),n("div",{staticClass:"confirm-value"},[t._v(t._s(t.tokensToBuy.amount))])]),t._v(" "),n("div",{staticClass:"confirm-row"},[n("div",{staticClass:"confirm-title"},[t._v("ETH value:")]),t._v(" "),n("div",{staticClass:"confirm-value"},[t._v(t._s(t.calcThePrice(t.tokensToBuy.amount)))])]),t._v(" "),n("div",{staticClass:"buttons-row"},[n("button",{staticClass:"btn tokens-modal-btn btn-return",on:{click:function(e){return t.setStatus("new")}}},[t._v("Back")]),t._v(" "),n("button",{staticClass:"btn tokens-modal-btn btn-confirm",on:{click:function(e){return t.purchase()}}},[t._v("Confirm")])])]):t._e(),t._v(" "),"success"===t.tokensToBuy.status||"error"===t.tokensToBuy.status?n("div",{staticClass:"tokens-finish"},["error"===t.tokensToBuy.status?n("div",{staticClass:"finish-message"},[t._v("An error has occurred")]):t._e(),t._v(" "),"success"===t.tokensToBuy.status?n("div",{staticClass:"finish-message"},[t._v(t._s(t.tokensToBuy.amount)+" hdp deposited to your wallet")]):t._e(),t._v(" "),n("div",{staticClass:"buttons-row"},[n("button",{staticClass:"btn tokens-modal-btn btn-return",on:{click:function(e){return t.updatePackageData(t.tokensToBuy.id)}}},[t._v(t._s("success"===t.tokensToBuy.status?"Buy more":"Try again"))]),t._v(" "),n("button",{staticClass:"btn tokens-modal-btn btn-terminate",on:{click:function(e){t.tokensToBuy.showModal=!1}}},[t._v("Close")])])]):t._e()],1):t._e()],1)}),[],!1,null,null,null);e.default=component.exports}}]);